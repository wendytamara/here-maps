<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <script src="http://js.api.here.com/v3/3.0/mapsjs-core.js" 
  type="text/javascript" charset="utf-8"></script>
  <script src="http://js.api.here.com/v3/3.0/mapsjs-service.js" 
  type="text/javascript" charset="utf-8"></script>
  <script src="http://js.api.here.com/v3/3.0/mapsjs-ui.js" 
  type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript" charset="UTF-8"
  src="http://js.api.here.com/v3/3.0/mapsjs-places.js"></script>
  <link rel="stylesheet" type="text/css" 
  href="http://js.api.here.com/v3/3.0/mapsjs-ui.css" />

  <title>Document</title>

</head>

<body>
    <div id="map" style="width: 640px; height: 480px"/>
    <script type="text/javascript" charset="utf-8">
    // Instantiate the Platform class with authentication and
    // authorization credentials:
    var platform = new H.service.Platform({
    useCIT: true,
    app_id: 'dtSI2axPe5QEr4QN4Bmd',
    app_code: 'cciCXXxEAcSyxCtSkOFyZg'
    });
    
   // Crear una instancia de un mapa dentro del elemento DOM con id map. los
// map center está en San Francisco, el nivel de zoom es 10:
    var map = new H.Map(document.getElementById('map'),
    platform.createDefaultLayers().normal.map, {
    center: {lat: -12.0463731, lng: -77.042754},
    zoom: 15
    });
    
   // Crea un objeto de grupo para contener marcadores de mapa:
    var group = new H.map.Group();
    
  // Crea los componentes de UI predeterminados:
    var ui = H.ui.UI.createDefault(map, platform.createDefaultLayers());
    
    // Add the group object to the map:
    map.addObject(group);

    // Obtener un objeto de búsqueda a través del cual enviar la búsqueda
     // peticiones:
    var search = new H.places.Search(platform.getPlacesService()),

    searchResult, error;
    
    // Define search parameters:
    var params = {
  // Búsqueda de texto simple para lugares con la palabra "hotel"
     // asociado a ellos:
    'q': 'banco',
   // Buscar en el distrito de Chinatown en San Francisco:
    'at': '-12.0463731,-77.042754'
    };
    
    // Define una función de devolución de llamada para manejar datos en caso de éxito:

    function onResult(data) {
    addPlacesToMap(data.results);
    }
    
    // Define a callback function to handle errors:
    function onError(data) {
    error = data;
    }
    
  // Esta función agrega marcadores al mapa, indicando cada uno de
       // los lugares ubicados

    function addPlacesToMap(result) {
    group.addObjects(result.items.map(function (place) {
    var marker = new H.map.Marker({lat: place.position[0],
    lng: place.position[1]})
    return marker;
    }));
    }
    
    // Run a search request with parameters, headers (empty), and
    // callback functions:
    search.request(params, {}, onResult, onError);
    
    </script>
    </body>
</html>